<h2>Detalles del caso</h2>

<hr />
<div *ngIf="issContact">
    <div>
        <label><b>Report Number: </b></label> {{issContact.reportNumber}}
    </div>
    <div>
        <label><b>Support: </b></label>
        <select id="supports" name="supports">
            <option *ngFor="let Support of supports | async" value="{{Support.Id_Supporter}}">{{Support.Name}}
            </option>

        </select>

    </div>
    <div>
        <label><b>Clasificación: </b>{{issue.Classification}}</label>

    </div>
    <div>
        <label><b>Nombre y apellidos:</b></label> {{user.name}} {{user.firstSurname}} {{user.secondSurname}}
    </div>

    <div>
        <label><b>Correo:</b> {{user.email}}</label>
    </div>
    <div>
        <label><b>Dirección del cliente.:</b> {{issContact.address}}</label>
    </div>
    <div>
        <label><b>Segundo contacto del cliente:</b> {{user.secondContact}}</label>
    </div>
    <div>
        <label><b>Telefono:</b>{{user.phone}}</label>
    </div>
    <div>
        <label><b>Estado de la solicitud:</b>{{issContact.status}}</label>
    </div>
    <div>
        <label><b>Correo electrónico del contacto de la solicitud:</b>{{issContact.contactPhone}}</label>
    </div>
    <div>
        <label><b>Teléfono del contacto de la solicitud:</b>{{issContact.contactEmail}}</label>
    </div>
    <div>
        <label><b>Comentarios:</b>
            <div *ngFor="let Comment of comments | async">
                {{Comment.description}}
            </div>
        </label>
    </div>
    <div>
        <label><b>Notas:</b>Notas</label>
    </div>
    <div>


        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#updateClassificationModal">
            Iniciar Proceso
        </button><br><br>

        <!--
<button (click)="updateState()" class="btn btn-primary">Actualizar Clasificación</button><br><br>

        -->
    </div>
    <div>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addNotesModal">
            Agregar Notas
        </button><br><br>
    </div>
    <div>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addCommentsModal">
            Agregar Comentarios
        </button><br><br>
    </div>

    <div>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#resolveIssueModal">
            Resolver solicitud
        </button><br><br>
    </div>

</div>

<button (click)="list()" class="btn btn-danger">Volver a lista de casos</button>




<!-- Modal -->
<div class="modal" id="updateClassificationModal">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Estado de la solicitud</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <div class="form-group">
                    <label for="sel1">Cambiar Estado</label>
                    <select class="form-control" id="sel1">
                        <option>Ingresado</option>
                        <option>Asignado</option>
                        <option>En Proceso</option>
                        <option>Resuelto</option>
                    </select>
                </div>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button (click)="updateState()" class="btn btn-success">Guardar Cambios</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>

        </div>
    </div>
</div>



<div class="modal" id="addNotesModal">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Asignar Notas a la solicitud</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <div class="form-group">
                    <label for="comment">Notas:</label>
                    <textarea class="form-control" rows="5" id="note"></textarea>
                </div>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-success">Guardar Cambios</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>

        </div>
    </div>
</div>

<div class="modal" id="addCommentsModal">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Agregar Comentarios a la solicitud</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <div class="form-group">
                    <label for="comment">Comentarios:</label>
                    <textarea type="text" class="form-control" rows="5" id="comment"></textarea>
                </div>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button (click)="addComment()" type="button" class="btn btn-success">Guardar Cambios</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>

        </div>
    </div>
</div>


<div class="modal" id="resolveIssueModal">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Agregar Comentarios a la solicitud</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <div class="form-group">
                    <label for="sel1">Cambiar Estado</label>
                    <select class="form-control" id="sel1">
                        <option>Ingresado</option>
                        <option>Asignado</option>
                        <option>En Proceso</option>
                        <option>Resuelto</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="comment">Comentarios:</label>
                    <textarea class="form-control" rows="5" id="resolComment"></textarea>
                </div>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-success">Guardar Cambios</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>

        </div>
    </div>
</div>